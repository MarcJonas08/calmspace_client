{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\diazm\\\\Desktop\\\\calmspace - react\\\\calmspace\\\\src\\\\components\\\\clinic.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Websocket from 'react-websocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ButtonComponent = () => {\n  _s();\n  const [initialState, setInitialState] = useState(false);\n  const [isFormSubmitted, setIsFormSubmitted] = useState(false);\n  const [clickedButtons, setClickedButtons] = useState([]);\n  const handleData = data => {\n    const parsedData = JSON.parse(data);\n    if (parsedData.initial_state !== undefined) {\n      setInitialState(parsedData.initial_state);\n    } else if (parsedData.clicked_button !== undefined) {\n      setClickedButtons(prevButtons => [...prevButtons, parsedData.clicked_button]);\n    } else if (parsedData.clicked_buttons !== undefined) {\n      setClickedButtons(parsedData.clicked_buttons);\n    }\n  };\n  const handleButtonClick = clickedButton => {\n    if (!isFormSubmitted) {\n      setIsFormSubmitted(true);\n      const socket = new WebSocket('ws://127.0.0.1:8000//ws/button_click/');\n      socket.onopen = () => {\n        socket.send(JSON.stringify({\n          clicked_button: clickedButton\n        }));\n      };\n      socket.close();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [initialState && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Initial State: True\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleButtonClick('8am'),\n      disabled: isFormSubmitted || clickedButtons.includes('8am'),\n      children: \"8am\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleButtonClick('9am'),\n      disabled: isFormSubmitted || clickedButtons.includes('9am'),\n      children: \"9am\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleButtonClick('10am'),\n      disabled: isFormSubmitted || clickedButtons.includes('10am'),\n      children: \"10am\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleButtonClick('11am'),\n      disabled: isFormSubmitted || clickedButtons.includes('11am'),\n      children: \"11am\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Websocket, {\n      url: \"ws://127.0.0.1:8000/ws/button_click/\",\n      onMessage: handleData,\n      reconnect: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(ButtonComponent, \"i5ooQhyR8siLflzqPL0puPIv1ZY=\");\n_c = ButtonComponent;\nexport default ButtonComponent;\nvar _c;\n$RefreshReg$(_c, \"ButtonComponent\");","map":{"version":3,"names":["React","useState","useEffect","Websocket","jsxDEV","_jsxDEV","ButtonComponent","_s","initialState","setInitialState","isFormSubmitted","setIsFormSubmitted","clickedButtons","setClickedButtons","handleData","data","parsedData","JSON","parse","initial_state","undefined","clicked_button","prevButtons","clicked_buttons","handleButtonClick","clickedButton","socket","WebSocket","onopen","send","stringify","close","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","includes","url","onMessage","reconnect","_c","$RefreshReg$"],"sources":["C:/Users/diazm/Desktop/calmspace - react/calmspace/src/components/clinic.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Websocket from 'react-websocket';\r\n\r\nconst ButtonComponent = () => {\r\n    const [initialState, setInitialState] = useState(false);\r\n    const [isFormSubmitted, setIsFormSubmitted] = useState(false);\r\n    const [clickedButtons, setClickedButtons] = useState([]);\r\n\r\n    const handleData = (data) => {\r\n        const parsedData = JSON.parse(data);\r\n\r\n        if (parsedData.initial_state !== undefined) {\r\n            setInitialState(parsedData.initial_state);\r\n        } else if (parsedData.clicked_button !== undefined) {\r\n            setClickedButtons((prevButtons) => [...prevButtons, parsedData.clicked_button]);\r\n        } else if (parsedData.clicked_buttons !== undefined) {\r\n            setClickedButtons(parsedData.clicked_buttons);\r\n        }\r\n    };\r\n\r\n    const handleButtonClick = (clickedButton) => {\r\n        if (!isFormSubmitted) {\r\n            setIsFormSubmitted(true);\r\n            const socket = new WebSocket('ws://127.0.0.1:8000//ws/button_click/');\r\n            socket.onopen = () => {\r\n                socket.send(JSON.stringify({ clicked_button: clickedButton }));\r\n            };\r\n            socket.close();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {initialState && <p>Initial State: True</p>}\r\n            <button onClick={() => handleButtonClick('8am')} disabled={isFormSubmitted || clickedButtons.includes('8am')}>\r\n                8am\r\n            </button>\r\n            <button onClick={() => handleButtonClick('9am')} disabled={isFormSubmitted || clickedButtons.includes('9am')}>\r\n                9am\r\n            </button>\r\n            <button onClick={() => handleButtonClick('10am')} disabled={isFormSubmitted || clickedButtons.includes('10am')}>\r\n                10am\r\n            </button>\r\n            <button onClick={() => handleButtonClick('11am')} disabled={isFormSubmitted || clickedButtons.includes('11am')}>\r\n                11am\r\n            </button>\r\n\r\n            <Websocket url=\"ws://127.0.0.1:8000/ws/button_click/\" onMessage={handleData} reconnect={true} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ButtonComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}