{"ast":null,"code":"import'../css/nav.css';import React,{useState,useRef,useEffect}from'react';import{Link}from'react-router-dom';import{useContext}from'react';import AuthContext from'../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Nav(props){const[branches,setBranches]=useState([]);useEffect(()=>{fetch('http://127.0.0.1:8000/api/clinic/branches',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'}}).then(res=>res.json()).then(data=>{setBranches(data);});},[]);const[doctors,setDoctors]=useState([]);useEffect(()=>{fetch('http://localhost:8000/api/clinic/doctors',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-type':'application/json'}}).then(response=>response.json()).then(data=>{setDoctors(data);}).catch(error=>console.error('Error fetching branches:',error));},[]);const[doctorAppointments,setDoctorAppointments]=useState([]);useEffect(()=>{fetch('http://localhost:8000/api/clinic/appointments',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-type':'application/json'}}).then(response=>response.json()).then(data=>{setDoctorAppointments(data);}).catch(error=>console.error('Error fetching appointments:',error));},[branches]);const[doctorAdvanceAppointments,setDoctorAdvanceAppointments]=useState([]);useEffect(()=>{fetch('http://localhost:8000/api/clinic/advance-appointments',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-type':'application/json'}}).then(response=>response.json()).then(data=>{setDoctorAdvanceAppointments(data);}).catch(error=>console.error('Error fetching appointments:',error));},[branches]);const[isSchedHovered,setIsSchedHovered]=useState(false);const[isProfHovered,setIsProfHovered]=useState(false);const handleMouseOver_Sched=()=>{setIsSchedHovered(!isSchedHovered);};const handleMouseLeave_Sched=()=>{setIsSchedHovered(false);};const stillSchedPop=()=>{setIsSchedHovered(true);};const handleMouseOver_Prof=()=>{setIsProfHovered(!isProfHovered);};const handleMouseLeave_Prof=()=>{setIsProfHovered(false);};const stillProfPop=()=>{setIsProfHovered(true);};const[navOpen,setNavOpen]=useState(false);const mbNavRef=useRef(null);const navOpenRef=useRef(null);const mainNavRef=useRef(null);const handleNavOpen=()=>{setNavOpen(!navOpen);document.body.style.overflow='hidden';};const handleNavClose=()=>{setNavOpen(false);document.body.style.overflow='auto';};useEffect(()=>{const handleClickOutside=event=>{const mbNavMain=mbNavRef.current;const navOpenMain=navOpenRef.current;if(!mbNavMain.contains(event.target)&&!navOpenMain.contains(event.target)){setNavOpen(!navOpen);}};if(navOpen===true){document.body.addEventListener('click',handleClickOutside);}return()=>{document.body.removeEventListener('click',handleClickOutside);};},[navOpen]);let{handleLogout,user,authTokens}=useContext(AuthContext);const[appointment,setAppointments]=useState();useEffect(()=>{fetch('http://localhost:8000/api/clinic/clients',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'}}).then(response=>response.json()).then(data=>{const filteredData=data.filter(client=>client.userID===user.user_id&&client.status==='active'&&client.is_deleted===false);setAppointments(filteredData);}).catch(error=>console.error('Error fetching clients:',error));},[]);const[assessments,setAssessments]=useState([]);useEffect(()=>{fetch('http://localhost:8000/api/clinic/assessments',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'}}).then(response=>response.json()).then(data=>{setAssessments(data);}).catch(error=>console.error('Error fetching assessments:',error));},[authTokens]);// Function to check if a user has existing data in assessments\nconst userHasAssessmentData=()=>{return assessments.some(assessment=>assessment.userID===user.user_id);};const[showConfirmation,setShowConfirmation]=useState(false);const[appointmentIdToDelete,setAppointmentIdToDelete]=useState(null);const[appointmentTimeToDelete,setAppointmentTimeToDelete]=useState(null);const[appointmentDateToDelete,setAppointmentDateToDelete]=useState(null);const[appointmentIdToUpdate,setAppointmentIdToUpdate]=useState(null);const showCancelConfirmation=(appointmentId,clientAppointmentTime,clientAppointmentDate,updateAppointmentId)=>{setAppointmentIdToDelete(appointmentId);setAppointmentTimeToDelete(clientAppointmentTime);setAppointmentDateToDelete(clientAppointmentDate);setAppointmentIdToUpdate(updateAppointmentId);setShowConfirmation(true);};const confirmCancel=()=>{cancelAppointment(appointmentIdToDelete,appointmentTimeToDelete,appointmentDateToDelete,appointmentIdToUpdate);setShowConfirmation(false);};const cancelCancel=()=>{setShowConfirmation(false);setAppointmentTimeToDelete(null);setAppointmentIdToDelete(null);};const cancelAppointment=(clientId,clientAppointmentTime,clientAppointmentDate,appointmentId)=>{const timeFieldMappings={'8:00 AM':'time_8am_9am','9:00 AM':'time_9am_10am','10:00 AM':'time_10am_11am','11:00 AM':'time_11am_12pm','1:00 PM':'time_1pm_2pm','2:00 PM':'time_2pm_3pm','3:00 PM':'time_3pm_4pm','4:00 PM':'time_4pm_5pm','8:00am':'time_8am_9am','9:00am':'time_9am_10am','10:00am':'time_10am_11am','11:00am':'time_11am_12pm','1:00pm':'time_1pm_2pm','2:00pm':'time_2pm_3pm','3:00pm':'time_3pm_4pm','4:00pm':'time_4pm_5pm'};const appointmentDate=new Date(clientAppointmentDate);const today=new Date();const tomorrow=new Date(today);tomorrow.setDate(today.getDate()+1);const timeField=timeFieldMappings[clientAppointmentTime];fetch(\"http://localhost:8000/api/clinic/clients/update-status/\".concat(clientId,\"/\"),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'},body:JSON.stringify({status:'cancelled'})}).then(response=>{if(!response.ok){throw new Error('Failed to update client status');}if(appointmentDate.toDateString()===today.toDateString()){return updateAppointmentTime(appointmentId,timeField,true);}else if(appointmentDate.toDateString()===tomorrow.toDateString()){return updateAdvanceAppointmentTime(appointmentId,timeField,true);}else{throw new Error('Invalid appointment date');}}).then(()=>{// Fetch the updated lists after the cancellation\nreturn Promise.all([fetch('http://localhost:8000/api/clinic/clients',{method:'GET',headers:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'}})]);}).then(_ref=>{let[clientsResponse]=_ref;return Promise.all([clientsResponse.json()]);}).then(_ref2=>{let[clients]=_ref2;const filteredClients=clients.filter(client=>client.userID===user.user_id&&client.status==='active'&&client.is_deleted===false);setAppointments(filteredClients);}).catch(error=>{console.error('Error handling appointment cancellation:',error);});};const isCancelable=appointmentTime=>{// Split the appointment time into hours, minutes, and meridian\nconst timeRegex=/(\\d+):(\\d+)\\s?([ap]m)/i;const match=appointmentTime.match(timeRegex);if(!match){console.error('Invalid time format');return false;}const[,hours,minutes,meridian]=match;const hoursNum=parseInt(hours,10);const minutesNum=parseInt(minutes,10);// Adjust hours if it's PM\nconst adjustedHours=meridian.toLowerCase()==='pm'?hoursNum+12:hoursNum;// Create a Date object for today with the appointment time\nconst appointmentDate=new Date();appointmentDate.setHours(adjustedHours,minutesNum,0,0);// Calculate the current time\nconst currentTime=new Date();// Check if the appointment time is at least 30 minutes after the current time\nconst is30MinutesAfter=appointmentDate.getTime()-currentTime.getTime()>30*60*1000;return is30MinutesAfter;};const updateAppointmentTime=async(appointmentId,timeField,currentValue)=>{try{const response=await fetch(\"http://localhost:8000/update-appointment/\".concat(appointmentId,\"/\"),{method:'PATCH',// Assuming you use a PATCH request to update the time field\nheaders:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'},body:JSON.stringify({[timeField]:!currentValue})// Send the updated time field as false\n});if(response.ok){// Successfully updated the appointment time field\n// You may want to refresh the data or handle it in a way that suits your application\n}else{// Handle the error if the update request fails\nconsole.error('Failed to update appointment time field');}}catch(error){console.error('Error updating appointment time field:',error);}};const updateAdvanceAppointmentTime=async(appointmentId,timeField,currentValue)=>{try{const response=await fetch(\"http://localhost:8000/update-advance-appointment/\".concat(appointmentId,\"/\"),{method:'PATCH',// Assuming you use a PATCH request to update the time field\nheaders:{'Authorization':\"Bearer \".concat(authTokens.access),'Content-Type':'application/json'},body:JSON.stringify({[timeField]:!currentValue})// Send the updated time field as false\n});if(response.ok){// Successfully updated the appointment time field\n// You may want to refresh the data or handle it in a way that suits your application\n}else{// Handle the error if the update request fails\nconsole.error('Failed to update appointment time field');}}catch(error){console.error('Error updating appointment time field:',error);}};const[openSchedule,setOpenSchedule]=useState(false);useEffect(()=>{const preventDefault=e=>{e.preventDefault();window.scrollTo(0,0);};if(showConfirmation||openSchedule){window.addEventListener('scroll',preventDefault);document.body.style.overflow='hidden';}else{window.removeEventListener('scroll',preventDefault);document.body.style.overflow='auto';}// Cleanup function to remove event listener when component unmounts\nreturn()=>{window.removeEventListener('scroll',preventDefault);document.body.style.overflow='auto';};},[showConfirmation,openSchedule]);return/*#__PURE__*/_jsxs(\"nav\",{ref:mainNavRef,style:{position:props.absolute==='true'?'absolute':'',zIndex:props.absolute==='true'?'100':''},children:[/*#__PURE__*/_jsxs(\"div\",{class:\"left-nav\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/logo.png\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:props.color==='white'?'black':'white'},children:/*#__PURE__*/_jsx(\"h1\",{className:\"nav-h1\",children:\"CalmSpace\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/assessment\",id:\"asses\",children:[/*#__PURE__*/_jsx(\"li\",{style:{color:props.color==='white'?'black':'white'},children:\"Assessments\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nice\",id:\"asses-hover\",style:{backgroundColor:props.color==='white'?'black':'white',width:props.page==='assessment'?'80%':''}})]}),/*#__PURE__*/_jsxs(Link,{to:\"/exercise\",id:\"exercise\",children:[/*#__PURE__*/_jsx(\"li\",{style:{color:props.color==='white'?'black':'white'},children:\"Exercises\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nice\",id:\"exercise-hover\",style:{backgroundColor:props.color==='white'?'black':'white',width:props.page==='exercise'?'80%':''}})]}),/*#__PURE__*/_jsxs(Link,{to:\"/resource\",id:\"resource\",children:[/*#__PURE__*/_jsx(\"li\",{style:{color:props.color==='white'?'black':'white'},children:\"Resource Hub\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nice\",id:\"resource-hover\",style:{backgroundColor:props.color==='white'?'black':'white',width:props.page==='resource'?'80%':''}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"right-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",class:\"button\",children:\"Clinic\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"r-n-icon\",id:\"schedule\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onMouseEnter:handleMouseOver_Sched,onMouseLeave:handleMouseLeave_Sched,style:{color:props.rIcon==='white'?'black':'white'},onClick:()=>{setOpenSchedule(true);},children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"calendar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-pop-up-wrapper\",style:{display:isSchedHovered===true?'flex':'none'},onMouseLeave:handleMouseLeave_Sched,onMouseEnter:stillSchedPop,children:/*#__PURE__*/_jsxs(\"div\",{class:\"nav-pop-up\",id:\"schedule-pop\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"pop-up-head\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Scheduled Appointment\"})}),appointment&&appointment.length===0&&/*#__PURE__*/_jsxs(\"div\",{class:\"pop-up-null\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"calendar-clear\",class:\"pop-up-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No scheduled appoint yet\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"pop-up-main\",children:appointment&&appointment.map(appoint=>{var _branches$find,_doctors$find;return/*#__PURE__*/_jsxs(\"div\",{className:\"schedule-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sched-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sched-doctor-branch\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Wayside Psyche Resources Center \",/*#__PURE__*/_jsx(\"br\",{}),\" - \",((_branches$find=branches.find(branch=>branch.id===appoint.branch))===null||_branches$find===void 0?void 0:_branches$find.branch_name)||'Unknown Branch']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dr. \",((_doctors$find=doctors.find(doctor=>doctor.id===appoint.doctor_id))===null||_doctors$find===void 0?void 0:_doctors$find.doctor_name)||'Unknown Doctor']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sched-date-time\",children:[/*#__PURE__*/_jsx(\"p\",{children:appoint.appointment_date}),/*#__PURE__*/_jsx(\"p\",{children:appoint.appointment_time})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(isCancelable(appoint.appointment_time)){let appointmentId=null;const todayDate=new Date();const tomorrowDate=new Date(todayDate);tomorrowDate.setDate(todayDate.getDate()+1);if(new Date(appoint.appointment_date).toDateString()===todayDate.toDateString()){const filteredAppointment=doctorAppointments.find(appointment=>appointment.doctor===appoint.doctor_id);if(filteredAppointment){appointmentId=filteredAppointment.id;}}if(new Date(appoint.appointment_date).toDateString()===tomorrowDate.toDateString()){const filteredAppointment=doctorAdvanceAppointments.find(appointment=>appointment.doctor===appoint.doctor_id);if(filteredAppointment){appointmentId=filteredAppointment.id;}}showCancelConfirmation(appoint.id,appoint.appointment_time,appoint.appointment_date,appointmentId);}else{alert('Cannot cancel appointments less than 30 minutes in advance.');}},children:\"Cancel\"})]},appoint.id);})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-bg\",style:{display:showConfirmation||openSchedule?'flex':'none',top:props.page==='assessment'||props.page==='clinic'?'0':props.page==='exercise'||props.page==='resource'||props.page==='profile'?'-15%':'0'}}),showConfirmation&&/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-popup\",style:{top:props.page==='assessment'||props.page==='clinic'?'50%':props.page==='exercise'||props.page==='resource'||props.page==='profile'?'575%':'50%'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to cancel this appointment?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:confirmCancel,id:\"cancel-btn-yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelCancel,id:\"cancel-btn-no\",children:\"No\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"r-n-icon\",id:\"profile\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",onMouseEnter:handleMouseOver_Prof,onMouseLeave:handleMouseLeave_Prof,style:{color:props.rIcon==='white'?'black':'white'},children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"person-circle\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-pop-up-wrapper\",style:{display:isProfHovered===true?'flex':'none'},onMouseLeave:handleMouseLeave_Prof,onMouseEnter:stillProfPop,children:/*#__PURE__*/_jsx(\"div\",{class:\"nav-pop-up\",id:\"profile-pop\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"profile-pop-up\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/profile\",class:\"profile-pop-up-opt\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"person-circle\",class:\"pop-up-profile\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Profile\"})]}),/*#__PURE__*/_jsxs(\"a\",{class:\"profile-pop-up-opt\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"log-out\",class:\"pop-up-profile\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Log out\"})]})]})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mobile-nav\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"button\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Clinic\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"r-n-icon\",id:\"mb-nav-open\",ref:navOpenRef,children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",style:{color:props.rIcon==='white'?'black':'white'},children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"person-circle\",onClick:handleNavOpen})})}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-nav-main\",id:\"mb-nav-main\",ref:mbNavRef,style:{display:navOpen===true?'flex':'none'},children:[/*#__PURE__*/_jsx(\"div\",{class:\"mb-nav-head\",id:\"mb-nav-close\",children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\",onClick:handleNavClose})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/assessment\",style:{backgroundColor:props.page==='assessment'?'lightgray':''},children:/*#__PURE__*/_jsxs(\"li\",{class:\"mb-nav-opt\",id:\"mb-nav-asses\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"document-text\",class:\"mb-nav-icon\"}),\" Assessments\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/exercise\",style:{backgroundColor:props.page==='exercise'?'lightgray':''},children:/*#__PURE__*/_jsxs(\"li\",{class:\"mb-nav-opt\",id:\"mb-nav-exercise\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"barbell\",class:\"mb-nav-icon\"}),\" Exercises\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/resource\",style:{backgroundColor:props.page==='resource'?'lightgray':''},children:/*#__PURE__*/_jsxs(\"li\",{class:\"mb-nav-opt\",id:\"mb-nav-resource\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"cube\",class:\"mb-nav-icon\"}),\" Resource Hub\"]})}),/*#__PURE__*/_jsx(Link,{to:\"#\",style:{backgroundColor:props.page==='schedule'?'lightgray':''},onClick:e=>{e.preventDefault();setOpenSchedule(true);},children:/*#__PURE__*/_jsxs(\"li\",{class:\"mb-nav-opt\",id:\"mb-nav-sched\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"calendar\",class:\"mb-nav-icon\"}),\" Schedule\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",style:{backgroundColor:props.page==='profile'?'lightgray':''},children:/*#__PURE__*/_jsxs(\"li\",{class:\"mb-nav-opt\",id:\"mb-nav-profile\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"person\",class:\"mb-nav-icon\"}),\" Profile\"]})}),/*#__PURE__*/_jsx(Link,{onClick:handleLogout,children:/*#__PURE__*/_jsxs(\"li\",{class:\"mb-nav-opt\",id:\"mb-nav-logout\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"log-out\",class:\"mb-nav-icon\"}),\" Log out\"]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"main-sched\",style:{display:openSchedule?'flex':'none',top:props.page==='assessment'||props.page==='clinic'?'50%':props.page==='exercise'||props.page==='resource'||props.page==='profile'?'575%':'50%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-close\",id:\"login-close\",onClick:()=>{setOpenSchedule(false);handleNavClose();},children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"main-sched-head\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Scheduled Appointments\"})}),appointment&&appointment.length===0&&/*#__PURE__*/_jsxs(\"div\",{class:\"main-sched-null\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"calendar-clear\",class:\"pop-up-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No scheduled appoint yet\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"main-sched-main\",children:appointment&&appointment.map(appoint=>{var _branches$find2,_doctors$find2;return/*#__PURE__*/_jsxs(\"div\",{className:\"main-sched-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-sched-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-sched-doctor-branch\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Wayside Psyche Resources Center\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Branch:\"}),\" \",((_branches$find2=branches.find(branch=>branch.id===appoint.branch))===null||_branches$find2===void 0?void 0:_branches$find2.branch_name)||'Unknown Branch']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Doctor:\"}),\" Dr. \",((_doctors$find2=doctors.find(doctor=>doctor.id===appoint.doctor_id))===null||_doctors$find2===void 0?void 0:_doctors$find2.doctor_name)||'Unknown Doctor']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-sched-date-time\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",appoint.appointment_date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",appoint.appointment_time]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(isCancelable(appoint.appointment_time)){let appointmentId=null;const todayDate=new Date();const tomorrowDate=new Date(todayDate);tomorrowDate.setDate(todayDate.getDate()+1);if(new Date(appoint.appointment_date).toDateString()===todayDate.toDateString()){const filteredAppointment=doctorAppointments.find(appointment=>appointment.doctor===appoint.doctor_id);if(filteredAppointment){appointmentId=filteredAppointment.id;}}if(new Date(appoint.appointment_date).toDateString()===tomorrowDate.toDateString()){const filteredAppointment=doctorAdvanceAppointments.find(appointment=>appointment.doctor===appoint.doctor_id);if(filteredAppointment){appointmentId=filteredAppointment.id;}}showCancelConfirmation(appoint.id,appoint.appointment_time,appoint.appointment_date,appointmentId);}else{alert('Cannot cancel appointments less than 30 minutes in advance.');}},children:\"Cancel\"})]},appoint.id);})})]})]});};","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","Nav","props","branches","setBranches","fetch","method","headers","concat","authTokens","access","then","res","json","data","doctors","setDoctors","response","catch","error","console","doctorAppointments","setDoctorAppointments","doctorAdvanceAppointments","setDoctorAdvanceAppointments","isSchedHovered","setIsSchedHovered","isProfHovered","setIsProfHovered","handleMouseOver_Sched","handleMouseLeave_Sched","stillSchedPop","handleMouseOver_Prof","handleMouseLeave_Prof","stillProfPop","navOpen","setNavOpen","mbNavRef","navOpenRef","mainNavRef","handleNavOpen","document","body","style","overflow","handleNavClose","handleClickOutside","event","mbNavMain","current","navOpenMain","contains","target","addEventListener","removeEventListener","handleLogout","user","appointment","setAppointments","filteredData","filter","client","userID","user_id","status","is_deleted","assessments","setAssessments","userHasAssessmentData","some","assessment","showConfirmation","setShowConfirmation","appointmentIdToDelete","setAppointmentIdToDelete","appointmentTimeToDelete","setAppointmentTimeToDelete","appointmentDateToDelete","setAppointmentDateToDelete","appointmentIdToUpdate","setAppointmentIdToUpdate","showCancelConfirmation","appointmentId","clientAppointmentTime","clientAppointmentDate","updateAppointmentId","confirmCancel","cancelAppointment","cancelCancel","clientId","timeFieldMappings","appointmentDate","Date","today","tomorrow","setDate","getDate","timeField","JSON","stringify","ok","Error","toDateString","updateAppointmentTime","updateAdvanceAppointmentTime","Promise","all","_ref","clientsResponse","_ref2","clients","filteredClients","isCancelable","appointmentTime","timeRegex","match","hours","minutes","meridian","hoursNum","parseInt","minutesNum","adjustedHours","toLowerCase","setHours","currentTime","is30MinutesAfter","getTime","currentValue","openSchedule","setOpenSchedule","preventDefault","e","window","scrollTo","ref","position","absolute","zIndex","children","class","src","to","color","className","id","backgroundColor","width","page","href","onMouseEnter","onMouseLeave","rIcon","onClick","name","display","length","map","appoint","_branches$find","_doctors$find","find","branch","branch_name","doctor","doctor_id","doctor_name","appointment_date","appointment_time","todayDate","tomorrowDate","filteredAppointment","alert","top","_branches$find2","_doctors$find2"],"sources":["C:/Users/diazm/Desktop/calmspace - react/calmspace/src/components/nav.js"],"sourcesContent":["import '../css/nav.css';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport AuthContext from '../context/AuthContext';\r\n\r\n\r\nexport default function Nav(props) {\r\n\r\n    const [branches, setBranches] = useState([])\r\n\r\n    useEffect(() => {\r\n        fetch('http://127.0.0.1:8000/api/clinic/branches',{\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${authTokens.access}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setBranches(data);\r\n        });\r\n      }, []);\r\n  \r\n      const [doctors, setDoctors] = useState([]);\r\n  \r\n      useEffect(() => {\r\n    \r\n        fetch('http://localhost:8000/api/clinic/doctors', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': `Bearer ${authTokens.access}`,\r\n                'Content-type': 'application/json'\r\n            }\r\n        })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            setDoctors(data);\r\n        })\r\n          .catch(error => console.error('Error fetching branches:', error));\r\n      }, []);\r\n\r\n      const [doctorAppointments, setDoctorAppointments] = useState([]);\r\n  \r\n      useEffect(() => {\r\n            fetch('http://localhost:8000/api/clinic/appointments', {\r\n              method: 'GET',\r\n              headers: {\r\n                'Authorization': `Bearer ${authTokens.access}`,\r\n                'Content-type': 'application/json'\r\n              }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n              setDoctorAppointments(data);\r\n            })\r\n            .catch(error => console.error('Error fetching appointments:', error));\r\n      }, [branches]);\r\n\r\n      const [doctorAdvanceAppointments, setDoctorAdvanceAppointments] = useState([]);\r\n  \r\n      useEffect(() => {\r\n            fetch('http://localhost:8000/api/clinic/advance-appointments', {\r\n              method: 'GET',\r\n              headers: {\r\n                'Authorization': `Bearer ${authTokens.access}`,\r\n                'Content-type': 'application/json'\r\n              }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n              setDoctorAdvanceAppointments(data);\r\n            })\r\n            .catch(error => console.error('Error fetching appointments:', error));\r\n      }, [branches]);\r\n\r\n        const [isSchedHovered, setIsSchedHovered] = useState(false);\r\n        const [isProfHovered, setIsProfHovered] = useState(false);\r\n\r\n        const handleMouseOver_Sched = () => {\r\n          setIsSchedHovered(!isSchedHovered);\r\n        };\r\n\r\n        const handleMouseLeave_Sched = () => {\r\n            setIsSchedHovered(false);\r\n           \r\n        };\r\n\r\n        const stillSchedPop = () => {\r\n            setIsSchedHovered(true);\r\n        };\r\n        \r\n        const handleMouseOver_Prof= () => {\r\n          setIsProfHovered(!isProfHovered);\r\n          \r\n        };\r\n\r\n        const handleMouseLeave_Prof= () => {\r\n            setIsProfHovered(false);\r\n            \r\n        };\r\n\r\n        const stillProfPop = () => {\r\n            setIsProfHovered(true);\r\n        };\r\n        \r\n        const [navOpen, setNavOpen] = useState(false);\r\n        const mbNavRef = useRef(null);\r\n        const navOpenRef = useRef(null);\r\n        const mainNavRef = useRef(null);\r\n\r\n        const handleNavOpen = () => {\r\n            setNavOpen(!navOpen);\r\n            document.body.style.overflow = 'hidden';\r\n          };\r\n          const handleNavClose = () => {\r\n            setNavOpen(false);\r\n            document.body.style.overflow = 'auto';\r\n          };\r\n\r\n\r\n          useEffect(() => {\r\n            const handleClickOutside = (event) => {\r\n                const mbNavMain = mbNavRef.current;\r\n                const navOpenMain = navOpenRef.current;\r\n        \r\n                if (!mbNavMain.contains(event.target) && !navOpenMain.contains(event.target)){\r\n                    setNavOpen(!navOpen);\r\n                }\r\n            };\r\n        \r\n            if (navOpen === true) {\r\n                document.body.addEventListener('click', handleClickOutside);\r\n            } \r\n            \r\n            return () => {\r\n                document.body.removeEventListener('click', handleClickOutside);\r\n            }\r\n            \r\n        }, [navOpen]);\r\n\r\n        let {handleLogout, user, authTokens} = useContext(AuthContext);\r\n\r\n        const [appointment, setAppointments] = useState();\r\n\r\n        useEffect(() => {\r\n            fetch('http://localhost:8000/api/clinic/clients', {\r\n              method: 'GET',\r\n              headers: {\r\n                'Authorization': `Bearer ${authTokens.access}`,\r\n                'Content-Type': 'application/json',\r\n              },\r\n            })\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                const filteredData = data.filter(client => client.userID === user.user_id && client.status === 'active' && client.is_deleted === false);\r\n                setAppointments(filteredData);\r\n              })\r\n              .catch((error) => console.error('Error fetching clients:', error));\r\n        }, [])\r\n\r\n        const [assessments, setAssessments] = useState([]);\r\n\r\n        useEffect(() => {\r\n            fetch('http://localhost:8000/api/clinic/assessments', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': `Bearer ${authTokens.access}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setAssessments(data);\r\n            })\r\n            .catch((error) => console.error('Error fetching assessments:', error));\r\n          }, [authTokens]);\r\n        \r\n        // Function to check if a user has existing data in assessments\r\n        const userHasAssessmentData = () => {\r\n            return assessments.some(assessment => assessment.userID === user.user_id);\r\n        };\r\n\r\n        const [showConfirmation, setShowConfirmation] = useState(false);\r\n        const [appointmentIdToDelete, setAppointmentIdToDelete] = useState(null);\r\n        const [appointmentTimeToDelete, setAppointmentTimeToDelete] = useState(null);\r\n        const [appointmentDateToDelete, setAppointmentDateToDelete] = useState(null);\r\n        const [appointmentIdToUpdate, setAppointmentIdToUpdate] = useState(null);\r\n    \r\n        const showCancelConfirmation = (appointmentId, clientAppointmentTime, clientAppointmentDate, updateAppointmentId) => {\r\n            setAppointmentIdToDelete(appointmentId);\r\n            setAppointmentTimeToDelete(clientAppointmentTime);\r\n            setAppointmentDateToDelete(clientAppointmentDate);\r\n            setAppointmentIdToUpdate(updateAppointmentId)\r\n            setShowConfirmation(true);\r\n        };\r\n    \r\n        const confirmCancel = () => {\r\n            cancelAppointment(appointmentIdToDelete, appointmentTimeToDelete, appointmentDateToDelete, appointmentIdToUpdate);\r\n            setShowConfirmation(false);\r\n        };\r\n    \r\n        const cancelCancel = () => {\r\n            setShowConfirmation(false);\r\n            setAppointmentTimeToDelete(null);\r\n            setAppointmentIdToDelete(null);\r\n        };\r\n\r\n        const cancelAppointment = (clientId, clientAppointmentTime, clientAppointmentDate, appointmentId) => {\r\n            const timeFieldMappings = {\r\n                '8:00 AM': 'time_8am_9am',\r\n                '9:00 AM': 'time_9am_10am',\r\n                '10:00 AM': 'time_10am_11am',\r\n                '11:00 AM': 'time_11am_12pm',\r\n                '1:00 PM': 'time_1pm_2pm',\r\n                '2:00 PM': 'time_2pm_3pm',\r\n                '3:00 PM': 'time_3pm_4pm',\r\n                '4:00 PM': 'time_4pm_5pm',\r\n                '8:00am': 'time_8am_9am',\r\n                '9:00am': 'time_9am_10am',\r\n                '10:00am': 'time_10am_11am',\r\n                '11:00am': 'time_11am_12pm',\r\n                '1:00pm': 'time_1pm_2pm',\r\n                '2:00pm': 'time_2pm_3pm',\r\n                '3:00pm': 'time_3pm_4pm',\r\n                '4:00pm': 'time_4pm_5pm',\r\n              };\r\n\r\n              const appointmentDate = new Date(clientAppointmentDate);\r\n              const today = new Date();\r\n              const tomorrow = new Date(today);\r\n              tomorrow.setDate(today.getDate() + 1);\r\n          \r\n              const timeField = timeFieldMappings[clientAppointmentTime];\r\n          \r\n              fetch(`http://localhost:8000/api/clinic/clients/update-status/${clientId}/`, {\r\n                  method: 'PUT',\r\n                  headers: {\r\n                      'Authorization': `Bearer ${authTokens.access}`,\r\n                      'Content-Type': 'application/json',\r\n                  },\r\n                  body: JSON.stringify({\r\n                      status: 'cancelled',\r\n                  }),\r\n              })\r\n              .then(response => {\r\n                  if (!response.ok) {\r\n                      throw new Error('Failed to update client status');\r\n                  }\r\n                  if (appointmentDate.toDateString() === today.toDateString()) {\r\n                      return updateAppointmentTime(appointmentId, timeField, true);\r\n                  } else if (appointmentDate.toDateString() === tomorrow.toDateString()) {\r\n                      return updateAdvanceAppointmentTime(appointmentId, timeField, true);\r\n                  } else {\r\n                      throw new Error('Invalid appointment date');\r\n                  }\r\n              })\r\n              .then(() => {\r\n                  // Fetch the updated lists after the cancellation\r\n                  return Promise.all([\r\n                      fetch('http://localhost:8000/api/clinic/clients', {\r\n                          method: 'GET',\r\n                          headers: {\r\n                              'Authorization': `Bearer ${authTokens.access}`,\r\n                              'Content-Type': 'application/json',\r\n                          },\r\n                      })\r\n                  ]);\r\n              })\r\n              .then(([clientsResponse]) => {\r\n                  return Promise.all([\r\n                      clientsResponse.json()\r\n                  ]);\r\n              })\r\n              .then(([clients]) => {\r\n                  const filteredClients = clients.filter(client => client.userID === user.user_id && client.status === 'active' && client.is_deleted === false);\r\n                  setAppointments(filteredClients);\r\n              })\r\n              .catch(error => {\r\n                  console.error('Error handling appointment cancellation:', error);\r\n              });\r\n          };\r\n\r\n          const isCancelable = (appointmentTime) => {\r\n            // Split the appointment time into hours, minutes, and meridian\r\n            const timeRegex = /(\\d+):(\\d+)\\s?([ap]m)/i;\r\n            const match = appointmentTime.match(timeRegex);\r\n        \r\n            if (!match) {\r\n                console.error('Invalid time format');\r\n                return false;\r\n            }\r\n        \r\n            const [, hours, minutes, meridian] = match;\r\n            const hoursNum = parseInt(hours, 10);\r\n            const minutesNum = parseInt(minutes, 10);\r\n        \r\n            // Adjust hours if it's PM\r\n            const adjustedHours = meridian.toLowerCase() === 'pm' ? hoursNum + 12 : hoursNum;\r\n        \r\n            // Create a Date object for today with the appointment time\r\n            const appointmentDate = new Date();\r\n            appointmentDate.setHours(adjustedHours, minutesNum, 0, 0);\r\n        \r\n            // Calculate the current time\r\n            const currentTime = new Date();\r\n        \r\n\r\n        \r\n            // Check if the appointment time is at least 30 minutes after the current time\r\n            const is30MinutesAfter = appointmentDate.getTime() - currentTime.getTime() > 30 * 60 * 1000;\r\n        \r\n\r\n        \r\n            return is30MinutesAfter;\r\n        };\r\n        \r\n\r\n        const updateAppointmentTime = async (appointmentId, timeField, currentValue) => {\r\n            try {\r\n              const response = await fetch(`http://localhost:8000/update-appointment/${appointmentId}/`, {\r\n                method: 'PATCH', // Assuming you use a PATCH request to update the time field\r\n                headers: {\r\n                  'Authorization': `Bearer ${authTokens.access}`,\r\n                  'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ [timeField]: !currentValue }), // Send the updated time field as false\r\n              });\r\n        \r\n              if (response.ok) {\r\n                // Successfully updated the appointment time field\r\n                // You may want to refresh the data or handle it in a way that suits your application\r\n              } else {\r\n                // Handle the error if the update request fails\r\n                console.error('Failed to update appointment time field');\r\n              }\r\n            } catch (error) {\r\n              console.error('Error updating appointment time field:', error);\r\n            }\r\n          };\r\n          const updateAdvanceAppointmentTime = async (appointmentId, timeField, currentValue) => {\r\n            try {\r\n              const response = await fetch(`http://localhost:8000/update-advance-appointment/${appointmentId}/`, {\r\n                method: 'PATCH', // Assuming you use a PATCH request to update the time field\r\n                headers: {\r\n                  'Authorization': `Bearer ${authTokens.access}`,\r\n                  'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ [timeField]: !currentValue }), // Send the updated time field as false\r\n              });\r\n        \r\n              if (response.ok) {\r\n                // Successfully updated the appointment time field\r\n                // You may want to refresh the data or handle it in a way that suits your application\r\n              } else {\r\n                // Handle the error if the update request fails\r\n                console.error('Failed to update appointment time field');\r\n              }\r\n            } catch (error) {\r\n              console.error('Error updating appointment time field:', error);\r\n            }\r\n          };\r\n          \r\n          const [openSchedule, setOpenSchedule] = useState(false)\r\n\r\n          useEffect(() => {\r\n            const preventDefault = (e) => {\r\n                e.preventDefault();\r\n                window.scrollTo(0, 0);\r\n            };\r\n      \r\n            if (showConfirmation || openSchedule) {\r\n                window.addEventListener('scroll', preventDefault);\r\n                document.body.style.overflow = 'hidden';\r\n            } else {\r\n                window.removeEventListener('scroll', preventDefault);\r\n                document.body.style.overflow = 'auto';\r\n            }\r\n      \r\n            // Cleanup function to remove event listener when component unmounts\r\n            return () => {\r\n                window.removeEventListener('scroll', preventDefault);\r\n                document.body.style.overflow = 'auto';\r\n            };\r\n          }, [showConfirmation, openSchedule]);\r\n\r\n    return(\r\n\r\n        <nav ref={mainNavRef} style={{position: props.absolute === 'true' ? 'absolute' : '', zIndex: props.absolute === 'true' ? '100' : ''}}>\r\n        <div class=\"left-nav\">\r\n            <img src='/img/logo.png'></img>\r\n            <Link to = \"/\" style={{color: props.color === 'white' ? 'black' : 'white'}}><h1 className='nav-h1'>CalmSpace</h1></Link>\r\n            <ul>\r\n                <Link to = \"/assessment\" id = \"asses\">\r\n                    <li style={{color: props.color === 'white' ? 'black' : 'white'}}>Assessments</li>\r\n                    <span className='nice' id = 'asses-hover' style={{backgroundColor: props.color === 'white' ? 'black' : 'white', \r\n                width: props.page === 'assessment' ? '80%' : ''}}></span>\r\n                </Link>\r\n                <Link to = \"/exercise\" id = \"exercise\">\r\n                    <li style={{color: props.color === 'white' ? 'black' : 'white'}}>Exercises</li>\r\n                    <span className='nice' id = 'exercise-hover' style={{backgroundColor: props.color === 'white' ? 'black' : 'white', \r\n                width: props.page === 'exercise' ? '80%' : ''}}></span>\r\n                </Link>\r\n                <Link to = \"/resource\" id = \"resource\">\r\n                    <li style={{color: props.color === 'white' ? 'black' : 'white'}}>Resource Hub</li>\r\n                    <span className='nice' id = 'resource-hover' style={{backgroundColor: props.color === 'white' ? 'black' : 'white', \r\n                width: props.page === 'resource' ? '80%' : ''}}></span>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n        <div class=\"right-nav\">\r\n\r\n            <Link to=\"/\" class = \"button\">Clinic</Link>\r\n            \r\n            <div class=\"r-n-icon\" id = \"schedule\">\r\n                <a href = \"#\" onMouseEnter ={handleMouseOver_Sched} onMouseLeave ={handleMouseLeave_Sched} \r\n                style={{color: props.rIcon === 'white' ? 'black' : 'white'}} onClick={() => {setOpenSchedule(true)}}><ion-icon name=\"calendar\"></ion-icon></a>\r\n\r\n                <div className='nav-pop-up-wrapper' style = {{display : isSchedHovered === true ? 'flex' : 'none'}} \r\n                    onMouseLeave ={handleMouseLeave_Sched} onMouseEnter={stillSchedPop}>\r\n                    <div class=\"nav-pop-up\" id = \"schedule-pop\" >\r\n                        <div class=\"pop-up-head\">\r\n                            <p>Scheduled Appointment</p>\r\n                        </div>\r\n                        {appointment && appointment.length === 0 && (\r\n                            <div class=\"pop-up-null\">\r\n                                <ion-icon name=\"calendar-clear\" class = \"pop-up-icon\"></ion-icon>\r\n                                <p>No scheduled appoint yet</p>\r\n                            </div>\r\n                        )}\r\n                        <div class=\"pop-up-main\">\r\n                            {appointment && appointment.map(appoint => (\r\n                                <div key={appoint.id} className='schedule-main'>\r\n                                    <div className='sched-details'>\r\n                                      <div className='sched-doctor-branch'>\r\n                                          <p>\r\n                                              Wayside Psyche Resources Center <br/> - {branches.find(branch => branch.id === appoint.branch)?.branch_name || 'Unknown Branch'}\r\n                                          </p>\r\n                                          <p>\r\n                                              Dr. {doctors.find(doctor => doctor.id === appoint.doctor_id)?.doctor_name || 'Unknown Doctor'}\r\n                                          </p>\r\n                                      </div>\r\n                                      <div className='sched-date-time'>\r\n                                          <p>{appoint.appointment_date}</p>\r\n                                          <p>{appoint.appointment_time}</p>\r\n                                      </div>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            if (isCancelable(appoint.appointment_time)) {\r\n\r\n                                              let appointmentId = null;\r\n\r\n                                              const todayDate = new Date();\r\n                                              const tomorrowDate = new Date(todayDate);\r\n                                              tomorrowDate.setDate(todayDate.getDate() + 1);\r\n                                          \r\n                                              if (new Date(appoint.appointment_date).toDateString() === todayDate.toDateString()) {\r\n                                                  const filteredAppointment = doctorAppointments.find(appointment => appointment.doctor === appoint.doctor_id);\r\n                                                  if (filteredAppointment) {\r\n                                                      appointmentId = filteredAppointment.id;\r\n                                                  }\r\n                                              }\r\n                                            \r\n                                              if (new Date(appoint.appointment_date).toDateString() === tomorrowDate.toDateString()) {\r\n                                                  const filteredAppointment = doctorAdvanceAppointments.find(appointment => appointment.doctor === appoint.doctor_id);\r\n                                                  if (filteredAppointment) {\r\n                                                      appointmentId = filteredAppointment.id;\r\n                                                  }\r\n                                              }\r\n\r\n                                              showCancelConfirmation(appoint.id, appoint.appointment_time, appoint.appointment_date, appointmentId);\r\n                                            } else {\r\n                                                alert('Cannot cancel appointments less than 30 minutes in advance.');\r\n                                            }\r\n                                        }}\r\n                                    >\r\n                                        Cancel\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='confirmation-bg' style={{display: showConfirmation || openSchedule ? 'flex' : 'none', top: props.page === 'assessment' || props.page === 'clinic' ? '0' :\r\n            props.page === 'exercise' || props.page === 'resource' || props.page === 'profile'? '-15%' : '0'}} ></div>\r\n            \r\n            {showConfirmation && (\r\n                <div className=\"confirmation-popup\" style={{top: props.page === 'assessment'  || props.page === 'clinic' ? '50%' :\r\n                props.page === 'exercise' || props.page === 'resource' || props.page === 'profile'? '575%' : '50%'}}>\r\n                    <p>Are you sure you want to cancel this appointment?</p>\r\n                    <div>\r\n                      <button onClick={confirmCancel} id='cancel-btn-yes'>Yes</button>\r\n                      <button onClick={cancelCancel} id='cancel-btn-no'>No</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <div class=\"r-n-icon\" id = \"profile\">\r\n                <Link to = \"/profile\" onMouseEnter ={handleMouseOver_Prof} onMouseLeave ={handleMouseLeave_Prof}\r\n                style={{color: props.rIcon === 'white' ? 'black' : 'white'}}><ion-icon name=\"person-circle\"></ion-icon></Link>\r\n                \r\n                <div className='nav-pop-up-wrapper'style = {{display : isProfHovered === true ? 'flex' : 'none'}} \r\n                    onMouseLeave ={handleMouseLeave_Prof} onMouseEnter={stillProfPop}>\r\n\r\n                    <div class=\"nav-pop-up\" id = \"profile-pop\">\r\n                        <div class=\"profile-pop-up\">\r\n                            <Link to = \"/profile\" class= \"profile-pop-up-opt\">\r\n                                <ion-icon name=\"person-circle\" class = \"pop-up-profile\"></ion-icon>\r\n                                <p>Profile</p>\r\n                            </Link>\r\n                            <a class= \"profile-pop-up-opt\" onClick={handleLogout}>\r\n                                <ion-icon name=\"log-out\"  class = \"pop-up-profile\"></ion-icon>\r\n                                <p>Log out</p>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>   \r\n        </div>\r\n\r\n        <div class=\"mobile-nav\">\r\n            \r\n            <div class=\"button\">\r\n                <Link to=\"/\">Clinic</Link>\r\n            </div>\r\n\r\n            <div class=\"r-n-icon\" id = \"mb-nav-open\" ref={navOpenRef}>\r\n                <a href=\"#\" style={{color: props.rIcon === 'white' ? 'black' : 'white'}}><ion-icon name=\"person-circle\" onClick={handleNavOpen}></ion-icon></a>\r\n            </div>\r\n\r\n\r\n                <div class=\"mb-nav-main\" id = \"mb-nav-main\" ref={mbNavRef} style = {{display : navOpen === true ? 'flex' : 'none'}}>\r\n                    <div class=\"mb-nav-head\" id = \"mb-nav-close\" >\r\n                        <ion-icon name=\"close\" onClick={handleNavClose}></ion-icon>\r\n                    </div>\r\n                    <ul>\r\n                        <Link to = \"/assessment\" style={{backgroundColor: props.page === 'assessment' ? 'lightgray' : ''}}>\r\n                            <li class = \"mb-nav-opt\" id = \"mb-nav-asses\"><ion-icon name=\"document-text\" class = \"mb-nav-icon\"></ion-icon> Assessments</li>\r\n                        </Link>\r\n                        <Link to = \"/exercise\" style={{backgroundColor: props.page === 'exercise' ? 'lightgray' : ''}}>\r\n                            <li class = \"mb-nav-opt\" id = \"mb-nav-exercise\"><ion-icon name=\"barbell\" class = \"mb-nav-icon\"></ion-icon> Exercises</li>\r\n                        </Link>\r\n                        <Link to = \"/resource\" style={{backgroundColor: props.page === 'resource' ? 'lightgray' : ''}}>\r\n                            <li class = \"mb-nav-opt\" id = \"mb-nav-resource\"><ion-icon name=\"cube\" class = \"mb-nav-icon\"></ion-icon> Resource Hub</li>\r\n                        </Link>\r\n                        <Link to = \"#\" style={{backgroundColor: props.page === 'schedule' ? 'lightgray' : ''}} onClick={(e) => {e.preventDefault(); setOpenSchedule(true)}}>\r\n                            <li class = \"mb-nav-opt\" id = \"mb-nav-sched\"><ion-icon name=\"calendar\" class = \"mb-nav-icon\"></ion-icon> Schedule</li>\r\n                        </Link>\r\n                        <Link to = \"/profile\" style={{backgroundColor: props.page === 'profile' ? 'lightgray' : ''}}>\r\n                            <li class = \"mb-nav-opt\" id = \"mb-nav-profile\"><ion-icon name=\"person\" class = \"mb-nav-icon\"></ion-icon> Profile</li>\r\n                        </Link>\r\n                        <Link onClick={handleLogout}>\r\n                            <li class = \"mb-nav-opt\" id = \"mb-nav-logout\" ><ion-icon name=\"log-out\" class = \"mb-nav-icon\"></ion-icon> Log out</li>\r\n                        </Link>\r\n                    </ul>\r\n                </div>\r\n        </div>\r\n\r\n        <div class=\"main-sched\" style={{display: openSchedule ? 'flex' : 'none', top: props.page === 'assessment' || props.page === 'clinic'  ? '50%' :\r\n        props.page === 'exercise' || props.page === 'resource' || props.page === 'profile'? '575%' : '50%'\r\n        }}>\r\n          <div className=\"form-close\" id = \"login-close\" onClick={() => {setOpenSchedule(false); handleNavClose()}}>\r\n              <ion-icon name=\"close\"></ion-icon>\r\n          </div>\r\n          <div class=\"main-sched-head\">\r\n              <p>Scheduled Appointments</p>\r\n          </div>\r\n          {appointment && appointment.length === 0 && (\r\n            <div class=\"main-sched-null\">\r\n                <ion-icon name=\"calendar-clear\" class=\"pop-up-icon\"></ion-icon>\r\n                <p>No scheduled appoint yet</p>\r\n            </div>\r\n            )}\r\n            <div class=\"main-sched-main\">\r\n                {appointment && appointment.map(appoint => (\r\n                <div key={appoint.id} className='main-sched-wrapper'>\r\n                    <div className='main-sched-details'>\r\n                        <div className='main-sched-doctor-branch'>\r\n                            <p>\r\n                                <strong>Wayside Psyche Resources Center</strong>\r\n                            </p>\r\n                            <p>\r\n                              <strong>Branch:</strong> {branches.find(branch => branch.id === appoint.branch)?.branch_name || 'Unknown Branch'}\r\n                            </p>\r\n                            <p>\r\n                              <strong>Doctor:</strong> Dr. {doctors.find(doctor => doctor.id === appoint.doctor_id)?.doctor_name || 'Unknown Doctor'}\r\n                            </p>\r\n                        </div>\r\n                        <div className='main-sched-date-time'>\r\n                            <p><strong>Date:</strong> {appoint.appointment_date}</p>\r\n                            <p><strong>Time:</strong> {appoint.appointment_time}</p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => {\r\n                            if (isCancelable(appoint.appointment_time)) {\r\n                                let appointmentId = null;\r\n                                const todayDate = new Date();\r\n                                const tomorrowDate = new Date(todayDate);\r\n                                tomorrowDate.setDate(todayDate.getDate() + 1);\r\n                                if (new Date(appoint.appointment_date).toDateString() === todayDate.toDateString()) {\r\n                                    const filteredAppointment = doctorAppointments.find(appointment => appointment.doctor === appoint.doctor_id);\r\n                                    if (filteredAppointment) {\r\n                                        appointmentId = filteredAppointment.id;\r\n                                    }\r\n                                }\r\n                                if (new Date(appoint.appointment_date).toDateString() === tomorrowDate.toDateString()) {\r\n                                    const filteredAppointment = doctorAdvanceAppointments.find(appointment => appointment.doctor === appoint.doctor_id);\r\n                                    if (filteredAppointment) {\r\n                                        appointmentId = filteredAppointment.id;\r\n                                    }\r\n                                }\r\n                                showCancelConfirmation(appoint.id, appoint.appointment_time, appoint.appointment_date, appointmentId);\r\n                            } else {\r\n                                alert('Cannot cancel appointments less than 30 minutes in advance.');\r\n                            }\r\n                        }}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                </div>\r\n              ))}\r\n          </div>\r\n      </div>\r\n\r\n\r\n    </nav>\r\n\r\n    );\r\n\r\n};\r\n\r\n"],"mappings":"AAAA,MAAO,gBAAgB,CAEvB,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAO,CAAAC,WAAW,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGjD,cAAe,SAAS,CAAAC,GAAGA,CAACC,KAAK,CAAE,CAE/B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE5CE,SAAS,CAAC,IAAM,CACZY,KAAK,CAAC,2CAA2C,CAAC,CAChDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACZV,WAAW,CAACU,IAAI,CAAC,CACnB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAE1CE,SAAS,CAAC,IAAM,CAEdY,KAAK,CAAC,0CAA0C,CAAE,CAC9CC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACCC,IAAI,CAACM,QAAQ,EAAIA,QAAQ,CAACJ,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAI,CACZE,UAAU,CAACF,IAAI,CAAC,CACpB,CAAC,CAAC,CACCI,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAAC,CACrE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAACE,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAEhEE,SAAS,CAAC,IAAM,CACVY,KAAK,CAAC,+CAA+C,CAAE,CACrDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACDC,IAAI,CAACM,QAAQ,EAAIA,QAAQ,CAACJ,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAI,CACZQ,qBAAqB,CAACR,IAAI,CAAC,CAC7B,CAAC,CAAC,CACDI,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CAC3E,CAAC,CAAE,CAAChB,QAAQ,CAAC,CAAC,CAEd,KAAM,CAACoB,yBAAyB,CAAEC,4BAA4B,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CAE9EE,SAAS,CAAC,IAAM,CACVY,KAAK,CAAC,uDAAuD,CAAE,CAC7DC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACDC,IAAI,CAACM,QAAQ,EAAIA,QAAQ,CAACJ,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAI,CACZU,4BAA4B,CAACV,IAAI,CAAC,CACpC,CAAC,CAAC,CACDI,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CAAC,CAC3E,CAAC,CAAE,CAAChB,QAAQ,CAAC,CAAC,CAEZ,KAAM,CAACsB,cAAc,CAAEC,iBAAiB,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACoC,aAAa,CAAEC,gBAAgB,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAEzD,KAAM,CAAAsC,qBAAqB,CAAGA,CAAA,GAAM,CAClCH,iBAAiB,CAAC,CAACD,cAAc,CAAC,CACpC,CAAC,CAED,KAAM,CAAAK,sBAAsB,CAAGA,CAAA,GAAM,CACjCJ,iBAAiB,CAAC,KAAK,CAAC,CAE5B,CAAC,CAED,KAAM,CAAAK,aAAa,CAAGA,CAAA,GAAM,CACxBL,iBAAiB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAM,oBAAoB,CAAEA,CAAA,GAAM,CAChCJ,gBAAgB,CAAC,CAACD,aAAa,CAAC,CAElC,CAAC,CAED,KAAM,CAAAM,qBAAqB,CAAEA,CAAA,GAAM,CAC/BL,gBAAgB,CAAC,KAAK,CAAC,CAE3B,CAAC,CAED,KAAM,CAAAM,YAAY,CAAGA,CAAA,GAAM,CACvBN,gBAAgB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAED,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAA8C,QAAQ,CAAG7C,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAAA8C,UAAU,CAAG9C,MAAM,CAAC,IAAI,CAAC,CAC/B,KAAM,CAAA+C,UAAU,CAAG/C,MAAM,CAAC,IAAI,CAAC,CAE/B,KAAM,CAAAgD,aAAa,CAAGA,CAAA,GAAM,CACxBJ,UAAU,CAAC,CAACD,OAAO,CAAC,CACpBM,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,QAAQ,CACzC,CAAC,CACD,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3BT,UAAU,CAAC,KAAK,CAAC,CACjBK,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,MAAM,CACvC,CAAC,CAGDnD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqD,kBAAkB,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAAC,SAAS,CAAGX,QAAQ,CAACY,OAAO,CAClC,KAAM,CAAAC,WAAW,CAAGZ,UAAU,CAACW,OAAO,CAEtC,GAAI,CAACD,SAAS,CAACG,QAAQ,CAACJ,KAAK,CAACK,MAAM,CAAC,EAAI,CAACF,WAAW,CAACC,QAAQ,CAACJ,KAAK,CAACK,MAAM,CAAC,CAAC,CACzEhB,UAAU,CAAC,CAACD,OAAO,CAAC,CACxB,CACJ,CAAC,CAED,GAAIA,OAAO,GAAK,IAAI,CAAE,CAClBM,QAAQ,CAACC,IAAI,CAACW,gBAAgB,CAAC,OAAO,CAAEP,kBAAkB,CAAC,CAC/D,CAEA,MAAO,IAAM,CACTL,QAAQ,CAACC,IAAI,CAACY,mBAAmB,CAAC,OAAO,CAAER,kBAAkB,CAAC,CAClE,CAAC,CAEL,CAAC,CAAE,CAACX,OAAO,CAAC,CAAC,CAEb,GAAI,CAACoB,YAAY,CAAEC,IAAI,CAAE/C,UAAU,CAAC,CAAGd,UAAU,CAACC,WAAW,CAAC,CAE9D,KAAM,CAAC6D,WAAW,CAAEC,eAAe,CAAC,CAAGnE,QAAQ,CAAC,CAAC,CAEjDE,SAAS,CAAC,IAAM,CACZY,KAAK,CAAC,0CAA0C,CAAE,CAChDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACCC,IAAI,CAAEM,QAAQ,EAAKA,QAAQ,CAACJ,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACd,KAAM,CAAA6C,YAAY,CAAG7C,IAAI,CAAC8C,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACC,MAAM,GAAKN,IAAI,CAACO,OAAO,EAAIF,MAAM,CAACG,MAAM,GAAK,QAAQ,EAAIH,MAAM,CAACI,UAAU,GAAK,KAAK,CAAC,CACvIP,eAAe,CAACC,YAAY,CAAC,CAC/B,CAAC,CAAC,CACDzC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAAC,CACxE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAC+C,WAAW,CAAEC,cAAc,CAAC,CAAG5E,QAAQ,CAAC,EAAE,CAAC,CAElDE,SAAS,CAAC,IAAM,CACZY,KAAK,CAAC,8CAA8C,CAAE,CACtDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBACpB,CACA,CAAC,CAAC,CACDC,IAAI,CAAEM,QAAQ,EAAKA,QAAQ,CAACJ,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACZqD,cAAc,CAACrD,IAAI,CAAC,CACxB,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CAAC,CACxE,CAAC,CAAE,CAACV,UAAU,CAAC,CAAC,CAElB;AACA,KAAM,CAAA2D,qBAAqB,CAAGA,CAAA,GAAM,CAChC,MAAO,CAAAF,WAAW,CAACG,IAAI,CAACC,UAAU,EAAIA,UAAU,CAACR,MAAM,GAAKN,IAAI,CAACO,OAAO,CAAC,CAC7E,CAAC,CAED,KAAM,CAACQ,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGjF,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACkF,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGnF,QAAQ,CAAC,IAAI,CAAC,CACxE,KAAM,CAACoF,uBAAuB,CAAEC,0BAA0B,CAAC,CAAGrF,QAAQ,CAAC,IAAI,CAAC,CAC5E,KAAM,CAACsF,uBAAuB,CAAEC,0BAA0B,CAAC,CAAGvF,QAAQ,CAAC,IAAI,CAAC,CAC5E,KAAM,CAACwF,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGzF,QAAQ,CAAC,IAAI,CAAC,CAExE,KAAM,CAAA0F,sBAAsB,CAAGA,CAACC,aAAa,CAAEC,qBAAqB,CAAEC,qBAAqB,CAAEC,mBAAmB,GAAK,CACjHX,wBAAwB,CAACQ,aAAa,CAAC,CACvCN,0BAA0B,CAACO,qBAAqB,CAAC,CACjDL,0BAA0B,CAACM,qBAAqB,CAAC,CACjDJ,wBAAwB,CAACK,mBAAmB,CAAC,CAC7Cb,mBAAmB,CAAC,IAAI,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAc,aAAa,CAAGA,CAAA,GAAM,CACxBC,iBAAiB,CAACd,qBAAqB,CAAEE,uBAAuB,CAAEE,uBAAuB,CAAEE,qBAAqB,CAAC,CACjHP,mBAAmB,CAAC,KAAK,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GAAM,CACvBhB,mBAAmB,CAAC,KAAK,CAAC,CAC1BI,0BAA0B,CAAC,IAAI,CAAC,CAChCF,wBAAwB,CAAC,IAAI,CAAC,CAClC,CAAC,CAED,KAAM,CAAAa,iBAAiB,CAAGA,CAACE,QAAQ,CAAEN,qBAAqB,CAAEC,qBAAqB,CAAEF,aAAa,GAAK,CACjG,KAAM,CAAAQ,iBAAiB,CAAG,CACtB,SAAS,CAAE,cAAc,CACzB,SAAS,CAAE,eAAe,CAC1B,UAAU,CAAE,gBAAgB,CAC5B,UAAU,CAAE,gBAAgB,CAC5B,SAAS,CAAE,cAAc,CACzB,SAAS,CAAE,cAAc,CACzB,SAAS,CAAE,cAAc,CACzB,SAAS,CAAE,cAAc,CACzB,QAAQ,CAAE,cAAc,CACxB,QAAQ,CAAE,eAAe,CACzB,SAAS,CAAE,gBAAgB,CAC3B,SAAS,CAAE,gBAAgB,CAC3B,QAAQ,CAAE,cAAc,CACxB,QAAQ,CAAE,cAAc,CACxB,QAAQ,CAAE,cAAc,CACxB,QAAQ,CAAE,cACZ,CAAC,CAED,KAAM,CAAAC,eAAe,CAAG,GAAI,CAAAC,IAAI,CAACR,qBAAqB,CAAC,CACvD,KAAM,CAAAS,KAAK,CAAG,GAAI,CAAAD,IAAI,CAAC,CAAC,CACxB,KAAM,CAAAE,QAAQ,CAAG,GAAI,CAAAF,IAAI,CAACC,KAAK,CAAC,CAChCC,QAAQ,CAACC,OAAO,CAACF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CAErC,KAAM,CAAAC,SAAS,CAAGP,iBAAiB,CAACP,qBAAqB,CAAC,CAE1D9E,KAAK,2DAAAG,MAAA,CAA2DiF,QAAQ,MAAK,CACzEnF,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBACpB,CAAC,CACDgC,IAAI,CAAEwD,IAAI,CAACC,SAAS,CAAC,CACjBnC,MAAM,CAAE,WACZ,CAAC,CACL,CAAC,CAAC,CACDrD,IAAI,CAACM,QAAQ,EAAI,CACd,GAAI,CAACA,QAAQ,CAACmF,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,gCAAgC,CAAC,CACrD,CACA,GAAIV,eAAe,CAACW,YAAY,CAAC,CAAC,GAAKT,KAAK,CAACS,YAAY,CAAC,CAAC,CAAE,CACzD,MAAO,CAAAC,qBAAqB,CAACrB,aAAa,CAAEe,SAAS,CAAE,IAAI,CAAC,CAChE,CAAC,IAAM,IAAIN,eAAe,CAACW,YAAY,CAAC,CAAC,GAAKR,QAAQ,CAACQ,YAAY,CAAC,CAAC,CAAE,CACnE,MAAO,CAAAE,4BAA4B,CAACtB,aAAa,CAAEe,SAAS,CAAE,IAAI,CAAC,CACvE,CAAC,IAAM,CACH,KAAM,IAAI,CAAAI,KAAK,CAAC,0BAA0B,CAAC,CAC/C,CACJ,CAAC,CAAC,CACD1F,IAAI,CAAC,IAAM,CACR;AACA,MAAO,CAAA8F,OAAO,CAACC,GAAG,CAAC,CACfrG,KAAK,CAAC,0CAA0C,CAAE,CAC9CC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACL,CAAC,CACN,CAAC,CAAC,CACDC,IAAI,CAACgG,IAAA,EAAuB,IAAtB,CAACC,eAAe,CAAC,CAAAD,IAAA,CACpB,MAAO,CAAAF,OAAO,CAACC,GAAG,CAAC,CACfE,eAAe,CAAC/F,IAAI,CAAC,CAAC,CACzB,CAAC,CACN,CAAC,CAAC,CACDF,IAAI,CAACkG,KAAA,EAAe,IAAd,CAACC,OAAO,CAAC,CAAAD,KAAA,CACZ,KAAM,CAAAE,eAAe,CAAGD,OAAO,CAAClD,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACC,MAAM,GAAKN,IAAI,CAACO,OAAO,EAAIF,MAAM,CAACG,MAAM,GAAK,QAAQ,EAAIH,MAAM,CAACI,UAAU,GAAK,KAAK,CAAC,CAC7IP,eAAe,CAACqD,eAAe,CAAC,CACpC,CAAC,CAAC,CACD7F,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,0CAA0C,CAAEA,KAAK,CAAC,CACpE,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAA6F,YAAY,CAAIC,eAAe,EAAK,CACxC;AACA,KAAM,CAAAC,SAAS,CAAG,wBAAwB,CAC1C,KAAM,CAAAC,KAAK,CAAGF,eAAe,CAACE,KAAK,CAACD,SAAS,CAAC,CAE9C,GAAI,CAACC,KAAK,CAAE,CACR/F,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAC,CACpC,MAAO,MAAK,CAChB,CAEA,KAAM,EAAGiG,KAAK,CAAEC,OAAO,CAAEC,QAAQ,CAAC,CAAGH,KAAK,CAC1C,KAAM,CAAAI,QAAQ,CAAGC,QAAQ,CAACJ,KAAK,CAAE,EAAE,CAAC,CACpC,KAAM,CAAAK,UAAU,CAAGD,QAAQ,CAACH,OAAO,CAAE,EAAE,CAAC,CAExC;AACA,KAAM,CAAAK,aAAa,CAAGJ,QAAQ,CAACK,WAAW,CAAC,CAAC,GAAK,IAAI,CAAGJ,QAAQ,CAAG,EAAE,CAAGA,QAAQ,CAEhF;AACA,KAAM,CAAA5B,eAAe,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAClCD,eAAe,CAACiC,QAAQ,CAACF,aAAa,CAAED,UAAU,CAAE,CAAC,CAAE,CAAC,CAAC,CAEzD;AACA,KAAM,CAAAI,WAAW,CAAG,GAAI,CAAAjC,IAAI,CAAC,CAAC,CAI9B;AACA,KAAM,CAAAkC,gBAAgB,CAAGnC,eAAe,CAACoC,OAAO,CAAC,CAAC,CAAGF,WAAW,CAACE,OAAO,CAAC,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAI3F,MAAO,CAAAD,gBAAgB,CAC3B,CAAC,CAGD,KAAM,CAAAvB,qBAAqB,CAAG,KAAAA,CAAOrB,aAAa,CAAEe,SAAS,CAAE+B,YAAY,GAAK,CAC5E,GAAI,CACF,KAAM,CAAA/G,QAAQ,CAAG,KAAM,CAAAZ,KAAK,6CAAAG,MAAA,CAA6C0E,aAAa,MAAK,CACzF5E,MAAM,CAAE,OAAO,CAAE;AACjBC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBAClB,CAAC,CACDgC,IAAI,CAAEwD,IAAI,CAACC,SAAS,CAAC,CAAE,CAACF,SAAS,EAAG,CAAC+B,YAAa,CAAC,CAAG;AACxD,CAAC,CAAC,CAEF,GAAI/G,QAAQ,CAACmF,EAAE,CAAE,CACf;AACA;AAAA,CACD,IAAM,CACL;AACAhF,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAC,CAC1D,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,CAAEA,KAAK,CAAC,CAChE,CACF,CAAC,CACD,KAAM,CAAAqF,4BAA4B,CAAG,KAAAA,CAAOtB,aAAa,CAAEe,SAAS,CAAE+B,YAAY,GAAK,CACrF,GAAI,CACF,KAAM,CAAA/G,QAAQ,CAAG,KAAM,CAAAZ,KAAK,qDAAAG,MAAA,CAAqD0E,aAAa,MAAK,CACjG5E,MAAM,CAAE,OAAO,CAAE;AACjBC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,UAAU,CAACC,MAAM,CAAE,CAC9C,cAAc,CAAE,kBAClB,CAAC,CACDgC,IAAI,CAAEwD,IAAI,CAACC,SAAS,CAAC,CAAE,CAACF,SAAS,EAAG,CAAC+B,YAAa,CAAC,CAAG;AACxD,CAAC,CAAC,CAEF,GAAI/G,QAAQ,CAACmF,EAAE,CAAE,CACf;AACA;AAAA,CACD,IAAM,CACL;AACAhF,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAC,CAC1D,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,CAAEA,KAAK,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAC8G,YAAY,CAAEC,eAAe,CAAC,CAAG3I,QAAQ,CAAC,KAAK,CAAC,CAEvDE,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0I,cAAc,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACD,cAAc,CAAC,CAAC,CAClBE,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CACzB,CAAC,CAED,GAAI/D,gBAAgB,EAAI0D,YAAY,CAAE,CAClCI,MAAM,CAAChF,gBAAgB,CAAC,QAAQ,CAAE8E,cAAc,CAAC,CACjD1F,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,QAAQ,CAC3C,CAAC,IAAM,CACHyF,MAAM,CAAC/E,mBAAmB,CAAC,QAAQ,CAAE6E,cAAc,CAAC,CACpD1F,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,MAAM,CACzC,CAEA;AACA,MAAO,IAAM,CACTyF,MAAM,CAAC/E,mBAAmB,CAAC,QAAQ,CAAE6E,cAAc,CAAC,CACpD1F,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAG,MAAM,CACzC,CAAC,CACH,CAAC,CAAE,CAAC2B,gBAAgB,CAAE0D,YAAY,CAAC,CAAC,CAE1C,mBAEIjI,KAAA,QAAKuI,GAAG,CAAEhG,UAAW,CAACI,KAAK,CAAE,CAAC6F,QAAQ,CAAEtI,KAAK,CAACuI,QAAQ,GAAK,MAAM,CAAG,UAAU,CAAG,EAAE,CAAEC,MAAM,CAAExI,KAAK,CAACuI,QAAQ,GAAK,MAAM,CAAG,KAAK,CAAG,EAAE,CAAE,CAAAE,QAAA,eACrI3I,KAAA,QAAK4I,KAAK,CAAC,UAAU,CAAAD,QAAA,eACjB7I,IAAA,QAAK+I,GAAG,CAAC,eAAe,CAAM,CAAC,cAC/B/I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,GAAG,CAACnG,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAAAJ,QAAA,cAAC7I,IAAA,OAAIkJ,SAAS,CAAC,QAAQ,CAAAL,QAAA,CAAC,WAAS,CAAI,CAAC,CAAM,CAAC,cACxH3I,KAAA,OAAA2I,QAAA,eACI3I,KAAA,CAACN,IAAI,EAACoJ,EAAE,CAAG,aAAa,CAACG,EAAE,CAAG,OAAO,CAAAN,QAAA,eACjC7I,IAAA,OAAI6C,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAAAJ,QAAA,CAAC,aAAW,CAAI,CAAC,cACjF7I,IAAA,SAAMkJ,SAAS,CAAC,MAAM,CAACC,EAAE,CAAG,aAAa,CAACtG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAClHI,KAAK,CAAEjJ,KAAK,CAACkJ,IAAI,GAAK,YAAY,CAAG,KAAK,CAAG,EAAE,CAAE,CAAO,CAAC,EACnD,CAAC,cACPpJ,KAAA,CAACN,IAAI,EAACoJ,EAAE,CAAG,WAAW,CAACG,EAAE,CAAG,UAAU,CAAAN,QAAA,eAClC7I,IAAA,OAAI6C,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAAAJ,QAAA,CAAC,WAAS,CAAI,CAAC,cAC/E7I,IAAA,SAAMkJ,SAAS,CAAC,MAAM,CAACC,EAAE,CAAG,gBAAgB,CAACtG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CACrHI,KAAK,CAAEjJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,CAAG,KAAK,CAAG,EAAE,CAAE,CAAO,CAAC,EACjD,CAAC,cACPpJ,KAAA,CAACN,IAAI,EAACoJ,EAAE,CAAG,WAAW,CAACG,EAAE,CAAG,UAAU,CAAAN,QAAA,eAClC7I,IAAA,OAAI6C,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAAAJ,QAAA,CAAC,cAAY,CAAI,CAAC,cAClF7I,IAAA,SAAMkJ,SAAS,CAAC,MAAM,CAACC,EAAE,CAAG,gBAAgB,CAACtG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAAC6I,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CACrHI,KAAK,CAAEjJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,CAAG,KAAK,CAAG,EAAE,CAAE,CAAO,CAAC,EACjD,CAAC,EACP,CAAC,EACJ,CAAC,cACNpJ,KAAA,QAAK4I,KAAK,CAAC,WAAW,CAAAD,QAAA,eAElB7I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAC,GAAG,CAACF,KAAK,CAAG,QAAQ,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,cAE3C3I,KAAA,QAAK4I,KAAK,CAAC,UAAU,CAACK,EAAE,CAAG,UAAU,CAAAN,QAAA,eACjC7I,IAAA,MAAGuJ,IAAI,CAAG,GAAG,CAACC,YAAY,CAAGzH,qBAAsB,CAAC0H,YAAY,CAAGzH,sBAAuB,CAC1Fa,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAACsJ,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAACC,OAAO,CAAEA,CAAA,GAAM,CAACvB,eAAe,CAAC,IAAI,CAAC,EAAE,CAAAS,QAAA,cAAC7I,IAAA,aAAU4J,IAAI,CAAC,UAAU,CAAW,CAAC,CAAG,CAAC,cAE9I5J,IAAA,QAAKkJ,SAAS,CAAC,oBAAoB,CAACrG,KAAK,CAAI,CAACgH,OAAO,CAAGlI,cAAc,GAAK,IAAI,CAAG,MAAM,CAAG,MAAM,CAAE,CAC/F8H,YAAY,CAAGzH,sBAAuB,CAACwH,YAAY,CAAEvH,aAAc,CAAA4G,QAAA,cACnE3I,KAAA,QAAK4I,KAAK,CAAC,YAAY,CAACK,EAAE,CAAG,cAAc,CAAAN,QAAA,eACvC7I,IAAA,QAAK8I,KAAK,CAAC,aAAa,CAAAD,QAAA,cACpB7I,IAAA,MAAA6I,QAAA,CAAG,uBAAqB,CAAG,CAAC,CAC3B,CAAC,CACLlF,WAAW,EAAIA,WAAW,CAACmG,MAAM,GAAK,CAAC,eACpC5J,KAAA,QAAK4I,KAAK,CAAC,aAAa,CAAAD,QAAA,eACpB7I,IAAA,aAAU4J,IAAI,CAAC,gBAAgB,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,cACjE9I,IAAA,MAAA6I,QAAA,CAAG,0BAAwB,CAAG,CAAC,EAC9B,CACR,cACD7I,IAAA,QAAK8I,KAAK,CAAC,aAAa,CAAAD,QAAA,CACnBlF,WAAW,EAAIA,WAAW,CAACoG,GAAG,CAACC,OAAO,OAAAC,cAAA,CAAAC,aAAA,oBACnChK,KAAA,QAAsBgJ,SAAS,CAAC,eAAe,CAAAL,QAAA,eAC3C3I,KAAA,QAAKgJ,SAAS,CAAC,eAAe,CAAAL,QAAA,eAC5B3I,KAAA,QAAKgJ,SAAS,CAAC,qBAAqB,CAAAL,QAAA,eAChC3I,KAAA,MAAA2I,QAAA,EAAG,kCACiC,cAAA7I,IAAA,QAAI,CAAC,MAAG,CAAC,EAAAiK,cAAA,CAAA5J,QAAQ,CAAC8J,IAAI,CAACC,MAAM,EAAIA,MAAM,CAACjB,EAAE,GAAKa,OAAO,CAACI,MAAM,CAAC,UAAAH,cAAA,iBAArDA,cAAA,CAAuDI,WAAW,GAAI,gBAAgB,EAChI,CAAC,cACJnK,KAAA,MAAA2I,QAAA,EAAG,MACK,CAAC,EAAAqB,aAAA,CAAAjJ,OAAO,CAACkJ,IAAI,CAACG,MAAM,EAAIA,MAAM,CAACnB,EAAE,GAAKa,OAAO,CAACO,SAAS,CAAC,UAAAL,aAAA,iBAAvDA,aAAA,CAAyDM,WAAW,GAAI,gBAAgB,EAC9F,CAAC,EACH,CAAC,cACNtK,KAAA,QAAKgJ,SAAS,CAAC,iBAAiB,CAAAL,QAAA,eAC5B7I,IAAA,MAAA6I,QAAA,CAAImB,OAAO,CAACS,gBAAgB,CAAI,CAAC,cACjCzK,IAAA,MAAA6I,QAAA,CAAImB,OAAO,CAACU,gBAAgB,CAAI,CAAC,EAChC,CAAC,EACH,CAAC,cACN1K,IAAA,WACI2J,OAAO,CAAEA,CAAA,GAAM,CACX,GAAIzC,YAAY,CAAC8C,OAAO,CAACU,gBAAgB,CAAC,CAAE,CAE1C,GAAI,CAAAtF,aAAa,CAAG,IAAI,CAExB,KAAM,CAAAuF,SAAS,CAAG,GAAI,CAAA7E,IAAI,CAAC,CAAC,CAC5B,KAAM,CAAA8E,YAAY,CAAG,GAAI,CAAA9E,IAAI,CAAC6E,SAAS,CAAC,CACxCC,YAAY,CAAC3E,OAAO,CAAC0E,SAAS,CAACzE,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CAE7C,GAAI,GAAI,CAAAJ,IAAI,CAACkE,OAAO,CAACS,gBAAgB,CAAC,CAACjE,YAAY,CAAC,CAAC,GAAKmE,SAAS,CAACnE,YAAY,CAAC,CAAC,CAAE,CAChF,KAAM,CAAAqE,mBAAmB,CAAGtJ,kBAAkB,CAAC4I,IAAI,CAACxG,WAAW,EAAIA,WAAW,CAAC2G,MAAM,GAAKN,OAAO,CAACO,SAAS,CAAC,CAC5G,GAAIM,mBAAmB,CAAE,CACrBzF,aAAa,CAAGyF,mBAAmB,CAAC1B,EAAE,CAC1C,CACJ,CAEA,GAAI,GAAI,CAAArD,IAAI,CAACkE,OAAO,CAACS,gBAAgB,CAAC,CAACjE,YAAY,CAAC,CAAC,GAAKoE,YAAY,CAACpE,YAAY,CAAC,CAAC,CAAE,CACnF,KAAM,CAAAqE,mBAAmB,CAAGpJ,yBAAyB,CAAC0I,IAAI,CAACxG,WAAW,EAAIA,WAAW,CAAC2G,MAAM,GAAKN,OAAO,CAACO,SAAS,CAAC,CACnH,GAAIM,mBAAmB,CAAE,CACrBzF,aAAa,CAAGyF,mBAAmB,CAAC1B,EAAE,CAC1C,CACJ,CAEAhE,sBAAsB,CAAC6E,OAAO,CAACb,EAAE,CAAEa,OAAO,CAACU,gBAAgB,CAAEV,OAAO,CAACS,gBAAgB,CAAErF,aAAa,CAAC,CACvG,CAAC,IAAM,CACH0F,KAAK,CAAC,6DAA6D,CAAC,CACxE,CACJ,CAAE,CAAAjC,QAAA,CACL,QAED,CAAQ,CAAC,GA9CHmB,OAAO,CAACb,EA+Cb,CAAC,EACT,CAAC,CACD,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,cACNnJ,IAAA,QAAKkJ,SAAS,CAAC,iBAAiB,CAACrG,KAAK,CAAE,CAACgH,OAAO,CAAEpF,gBAAgB,EAAI0D,YAAY,CAAG,MAAM,CAAG,MAAM,CAAE4C,GAAG,CAAE3K,KAAK,CAACkJ,IAAI,GAAK,YAAY,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,QAAQ,CAAG,GAAG,CACvKlJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,SAAS,CAAE,MAAM,CAAG,GAAG,CAAE,CAAO,CAAC,CAEzG7E,gBAAgB,eACbvE,KAAA,QAAKgJ,SAAS,CAAC,oBAAoB,CAACrG,KAAK,CAAE,CAACkI,GAAG,CAAE3K,KAAK,CAACkJ,IAAI,GAAK,YAAY,EAAKlJ,KAAK,CAACkJ,IAAI,GAAK,QAAQ,CAAG,KAAK,CAChHlJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,SAAS,CAAE,MAAM,CAAG,KAAK,CAAE,CAAAT,QAAA,eAChG7I,IAAA,MAAA6I,QAAA,CAAG,mDAAiD,CAAG,CAAC,cACxD3I,KAAA,QAAA2I,QAAA,eACE7I,IAAA,WAAQ2J,OAAO,CAAEnE,aAAc,CAAC2D,EAAE,CAAC,gBAAgB,CAAAN,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChE7I,IAAA,WAAQ2J,OAAO,CAAEjE,YAAa,CAACyD,EAAE,CAAC,eAAe,CAAAN,QAAA,CAAC,IAAE,CAAQ,CAAC,EAC1D,CAAC,EACL,CACR,cACD3I,KAAA,QAAK4I,KAAK,CAAC,UAAU,CAACK,EAAE,CAAG,SAAS,CAAAN,QAAA,eAChC7I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,UAAU,CAACQ,YAAY,CAAGtH,oBAAqB,CAACuH,YAAY,CAAGtH,qBAAsB,CAChGU,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAACsJ,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAAAb,QAAA,cAAC7I,IAAA,aAAU4J,IAAI,CAAC,eAAe,CAAW,CAAC,CAAM,CAAC,cAE9G5J,IAAA,QAAKkJ,SAAS,CAAC,oBAAoB,CAAArG,KAAK,CAAI,CAACgH,OAAO,CAAGhI,aAAa,GAAK,IAAI,CAAG,MAAM,CAAG,MAAM,CAAE,CAC7F4H,YAAY,CAAGtH,qBAAsB,CAACqH,YAAY,CAAEpH,YAAa,CAAAyG,QAAA,cAEjE7I,IAAA,QAAK8I,KAAK,CAAC,YAAY,CAACK,EAAE,CAAG,aAAa,CAAAN,QAAA,cACtC3I,KAAA,QAAK4I,KAAK,CAAC,gBAAgB,CAAAD,QAAA,eACvB3I,KAAA,CAACN,IAAI,EAACoJ,EAAE,CAAG,UAAU,CAACF,KAAK,CAAE,oBAAoB,CAAAD,QAAA,eAC7C7I,IAAA,aAAU4J,IAAI,CAAC,eAAe,CAACd,KAAK,CAAG,gBAAgB,CAAW,CAAC,cACnE9I,IAAA,MAAA6I,QAAA,CAAG,SAAO,CAAG,CAAC,EACZ,CAAC,cACP3I,KAAA,MAAG4I,KAAK,CAAE,oBAAoB,CAACa,OAAO,CAAElG,YAAa,CAAAoF,QAAA,eACjD7I,IAAA,aAAU4J,IAAI,CAAC,SAAS,CAAEd,KAAK,CAAG,gBAAgB,CAAW,CAAC,cAC9D9I,IAAA,MAAA6I,QAAA,CAAG,SAAO,CAAG,CAAC,EACf,CAAC,EACH,CAAC,CACL,CAAC,CACL,CAAC,EACL,CAAC,EACL,CAAC,cAEN3I,KAAA,QAAK4I,KAAK,CAAC,YAAY,CAAAD,QAAA,eAEnB7I,IAAA,QAAK8I,KAAK,CAAC,QAAQ,CAAAD,QAAA,cACf7I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAC,GAAG,CAAAH,QAAA,CAAC,QAAM,CAAM,CAAC,CACzB,CAAC,cAEN7I,IAAA,QAAK8I,KAAK,CAAC,UAAU,CAACK,EAAE,CAAG,aAAa,CAACV,GAAG,CAAEjG,UAAW,CAAAqG,QAAA,cACrD7I,IAAA,MAAGuJ,IAAI,CAAC,GAAG,CAAC1G,KAAK,CAAE,CAACoG,KAAK,CAAE7I,KAAK,CAACsJ,KAAK,GAAK,OAAO,CAAG,OAAO,CAAG,OAAO,CAAE,CAAAb,QAAA,cAAC7I,IAAA,aAAU4J,IAAI,CAAC,eAAe,CAACD,OAAO,CAAEjH,aAAc,CAAW,CAAC,CAAG,CAAC,CAC9I,CAAC,cAGFxC,KAAA,QAAK4I,KAAK,CAAC,aAAa,CAACK,EAAE,CAAG,aAAa,CAACV,GAAG,CAAElG,QAAS,CAACM,KAAK,CAAI,CAACgH,OAAO,CAAGxH,OAAO,GAAK,IAAI,CAAG,MAAM,CAAG,MAAM,CAAE,CAAAwG,QAAA,eAC/G7I,IAAA,QAAK8I,KAAK,CAAC,aAAa,CAACK,EAAE,CAAG,cAAc,CAAAN,QAAA,cACxC7I,IAAA,aAAU4J,IAAI,CAAC,OAAO,CAACD,OAAO,CAAE5G,cAAe,CAAW,CAAC,CAC1D,CAAC,cACN7C,KAAA,OAAA2I,QAAA,eACI7I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,aAAa,CAACnG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAACkJ,IAAI,GAAK,YAAY,CAAG,WAAW,CAAG,EAAE,CAAE,CAAAT,QAAA,cAC9F3I,KAAA,OAAI4I,KAAK,CAAG,YAAY,CAACK,EAAE,CAAG,cAAc,CAAAN,QAAA,eAAC7I,IAAA,aAAU4J,IAAI,CAAC,eAAe,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,eAAY,EAAI,CAAC,CAC5H,CAAC,cACP9I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,WAAW,CAACnG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,CAAG,WAAW,CAAG,EAAE,CAAE,CAAAT,QAAA,cAC1F3I,KAAA,OAAI4I,KAAK,CAAG,YAAY,CAACK,EAAE,CAAG,iBAAiB,CAAAN,QAAA,eAAC7I,IAAA,aAAU4J,IAAI,CAAC,SAAS,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,aAAU,EAAI,CAAC,CACvH,CAAC,cACP9I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,WAAW,CAACnG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,CAAG,WAAW,CAAG,EAAE,CAAE,CAAAT,QAAA,cAC1F3I,KAAA,OAAI4I,KAAK,CAAG,YAAY,CAACK,EAAE,CAAG,iBAAiB,CAAAN,QAAA,eAAC7I,IAAA,aAAU4J,IAAI,CAAC,MAAM,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,gBAAa,EAAI,CAAC,CACvH,CAAC,cACP9I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,GAAG,CAACnG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,CAAG,WAAW,CAAG,EAAE,CAAE,CAACK,OAAO,CAAGrB,CAAC,EAAK,CAACA,CAAC,CAACD,cAAc,CAAC,CAAC,CAAED,eAAe,CAAC,IAAI,CAAC,EAAE,CAAAS,QAAA,cAC/I3I,KAAA,OAAI4I,KAAK,CAAG,YAAY,CAACK,EAAE,CAAG,cAAc,CAAAN,QAAA,eAAC7I,IAAA,aAAU4J,IAAI,CAAC,UAAU,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,YAAS,EAAI,CAAC,CACpH,CAAC,cACP9I,IAAA,CAACJ,IAAI,EAACoJ,EAAE,CAAG,UAAU,CAACnG,KAAK,CAAE,CAACuG,eAAe,CAAEhJ,KAAK,CAACkJ,IAAI,GAAK,SAAS,CAAG,WAAW,CAAG,EAAE,CAAE,CAAAT,QAAA,cACxF3I,KAAA,OAAI4I,KAAK,CAAG,YAAY,CAACK,EAAE,CAAG,gBAAgB,CAAAN,QAAA,eAAC7I,IAAA,aAAU4J,IAAI,CAAC,QAAQ,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,WAAQ,EAAI,CAAC,CACnH,CAAC,cACP9I,IAAA,CAACJ,IAAI,EAAC+J,OAAO,CAAElG,YAAa,CAAAoF,QAAA,cACxB3I,KAAA,OAAI4I,KAAK,CAAG,YAAY,CAACK,EAAE,CAAG,eAAe,CAAAN,QAAA,eAAE7I,IAAA,aAAU4J,IAAI,CAAC,SAAS,CAACd,KAAK,CAAG,aAAa,CAAW,CAAC,WAAQ,EAAI,CAAC,CACpH,CAAC,EACP,CAAC,EACJ,CAAC,EACT,CAAC,cAEN5I,KAAA,QAAK4I,KAAK,CAAC,YAAY,CAACjG,KAAK,CAAE,CAACgH,OAAO,CAAE1B,YAAY,CAAG,MAAM,CAAG,MAAM,CAAE4C,GAAG,CAAE3K,KAAK,CAACkJ,IAAI,GAAK,YAAY,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,QAAQ,CAAI,KAAK,CAC7IlJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,UAAU,EAAIlJ,KAAK,CAACkJ,IAAI,GAAK,SAAS,CAAE,MAAM,CAAG,KAC7F,CAAE,CAAAT,QAAA,eACA7I,IAAA,QAAKkJ,SAAS,CAAC,YAAY,CAACC,EAAE,CAAG,aAAa,CAACQ,OAAO,CAAEA,CAAA,GAAM,CAACvB,eAAe,CAAC,KAAK,CAAC,CAAErF,cAAc,CAAC,CAAC,EAAE,CAAA8F,QAAA,cACrG7I,IAAA,aAAU4J,IAAI,CAAC,OAAO,CAAW,CAAC,CACjC,CAAC,cACN5J,IAAA,QAAK8I,KAAK,CAAC,iBAAiB,CAAAD,QAAA,cACxB7I,IAAA,MAAA6I,QAAA,CAAG,wBAAsB,CAAG,CAAC,CAC5B,CAAC,CACLlF,WAAW,EAAIA,WAAW,CAACmG,MAAM,GAAK,CAAC,eACtC5J,KAAA,QAAK4I,KAAK,CAAC,iBAAiB,CAAAD,QAAA,eACxB7I,IAAA,aAAU4J,IAAI,CAAC,gBAAgB,CAACd,KAAK,CAAC,aAAa,CAAW,CAAC,cAC/D9I,IAAA,MAAA6I,QAAA,CAAG,0BAAwB,CAAG,CAAC,EAC9B,CACJ,cACD7I,IAAA,QAAK8I,KAAK,CAAC,iBAAiB,CAAAD,QAAA,CACvBlF,WAAW,EAAIA,WAAW,CAACoG,GAAG,CAACC,OAAO,OAAAgB,eAAA,CAAAC,cAAA,oBACvC/K,KAAA,QAAsBgJ,SAAS,CAAC,oBAAoB,CAAAL,QAAA,eAChD3I,KAAA,QAAKgJ,SAAS,CAAC,oBAAoB,CAAAL,QAAA,eAC/B3I,KAAA,QAAKgJ,SAAS,CAAC,0BAA0B,CAAAL,QAAA,eACrC7I,IAAA,MAAA6I,QAAA,cACI7I,IAAA,WAAA6I,QAAA,CAAQ,iCAA+B,CAAQ,CAAC,CACjD,CAAC,cACJ3I,KAAA,MAAA2I,QAAA,eACE7I,IAAA,WAAA6I,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAAC,EAAAmC,eAAA,CAAA3K,QAAQ,CAAC8J,IAAI,CAACC,MAAM,EAAIA,MAAM,CAACjB,EAAE,GAAKa,OAAO,CAACI,MAAM,CAAC,UAAAY,eAAA,iBAArDA,eAAA,CAAuDX,WAAW,GAAI,gBAAgB,EAC/G,CAAC,cACJnK,KAAA,MAAA2I,QAAA,eACE7I,IAAA,WAAA6I,QAAA,CAAQ,SAAO,CAAQ,CAAC,QAAK,CAAC,EAAAoC,cAAA,CAAAhK,OAAO,CAACkJ,IAAI,CAACG,MAAM,EAAIA,MAAM,CAACnB,EAAE,GAAKa,OAAO,CAACO,SAAS,CAAC,UAAAU,cAAA,iBAAvDA,cAAA,CAAyDT,WAAW,GAAI,gBAAgB,EACrH,CAAC,EACH,CAAC,cACNtK,KAAA,QAAKgJ,SAAS,CAAC,sBAAsB,CAAAL,QAAA,eACjC3I,KAAA,MAAA2I,QAAA,eAAG7I,IAAA,WAAA6I,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACmB,OAAO,CAACS,gBAAgB,EAAI,CAAC,cACxDvK,KAAA,MAAA2I,QAAA,eAAG7I,IAAA,WAAA6I,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACmB,OAAO,CAACU,gBAAgB,EAAI,CAAC,EACvD,CAAC,EACL,CAAC,cACN1K,IAAA,WACI2J,OAAO,CAAEA,CAAA,GAAM,CACX,GAAIzC,YAAY,CAAC8C,OAAO,CAACU,gBAAgB,CAAC,CAAE,CACxC,GAAI,CAAAtF,aAAa,CAAG,IAAI,CACxB,KAAM,CAAAuF,SAAS,CAAG,GAAI,CAAA7E,IAAI,CAAC,CAAC,CAC5B,KAAM,CAAA8E,YAAY,CAAG,GAAI,CAAA9E,IAAI,CAAC6E,SAAS,CAAC,CACxCC,YAAY,CAAC3E,OAAO,CAAC0E,SAAS,CAACzE,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CAC7C,GAAI,GAAI,CAAAJ,IAAI,CAACkE,OAAO,CAACS,gBAAgB,CAAC,CAACjE,YAAY,CAAC,CAAC,GAAKmE,SAAS,CAACnE,YAAY,CAAC,CAAC,CAAE,CAChF,KAAM,CAAAqE,mBAAmB,CAAGtJ,kBAAkB,CAAC4I,IAAI,CAACxG,WAAW,EAAIA,WAAW,CAAC2G,MAAM,GAAKN,OAAO,CAACO,SAAS,CAAC,CAC5G,GAAIM,mBAAmB,CAAE,CACrBzF,aAAa,CAAGyF,mBAAmB,CAAC1B,EAAE,CAC1C,CACJ,CACA,GAAI,GAAI,CAAArD,IAAI,CAACkE,OAAO,CAACS,gBAAgB,CAAC,CAACjE,YAAY,CAAC,CAAC,GAAKoE,YAAY,CAACpE,YAAY,CAAC,CAAC,CAAE,CACnF,KAAM,CAAAqE,mBAAmB,CAAGpJ,yBAAyB,CAAC0I,IAAI,CAACxG,WAAW,EAAIA,WAAW,CAAC2G,MAAM,GAAKN,OAAO,CAACO,SAAS,CAAC,CACnH,GAAIM,mBAAmB,CAAE,CACrBzF,aAAa,CAAGyF,mBAAmB,CAAC1B,EAAE,CAC1C,CACJ,CACAhE,sBAAsB,CAAC6E,OAAO,CAACb,EAAE,CAAEa,OAAO,CAACU,gBAAgB,CAAEV,OAAO,CAACS,gBAAgB,CAAErF,aAAa,CAAC,CACzG,CAAC,IAAM,CACH0F,KAAK,CAAC,6DAA6D,CAAC,CACxE,CACJ,CAAE,CAAAjC,QAAA,CACL,QAED,CAAQ,CAAC,GA5CHmB,OAAO,CAACb,EA6Cb,CAAC,EACP,CAAC,CACD,CAAC,EACL,CAAC,EAGH,CAAC,CAIV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}